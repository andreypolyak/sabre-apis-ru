<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Операция поиска перелетов является одной из самых критичных операций с точки зрения времени ожидания ответа. Увеличение времени ожидания поисковых результатов может приводить к серьезному снижению показателя конверсии. Среднее время ожидания ответа на поисковый запрос (One Way или Round Trip) Sabre составляет 2-3 секунды. Если у вашего решения это время выше, то рекомендуется ознакомиться c перечисленными ниже рекомендациями:
 Обновите версии используемых поисковых сервисов до текущих. Текущие версии поисковых сервисов можно узнать на портале Sabre Dev Studio: BargainFinderMaxRQ, BargainFinderMax_ADRQ.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Оптимизация времени поиска" />
<meta property="og:description" content="Операция поиска перелетов является одной из самых критичных операций с точки зрения времени ожидания ответа. Увеличение времени ожидания поисковых результатов может приводить к серьезному снижению показателя конверсии. Среднее время ожидания ответа на поисковый запрос (One Way или Round Trip) Sabre составляет 2-3 секунды. Если у вашего решения это время выше, то рекомендуется ознакомиться c перечисленными ниже рекомендациями:
 Обновите версии используемых поисковых сервисов до текущих. Текущие версии поисковых сервисов можно узнать на портале Sabre Dev Studio: BargainFinderMaxRQ, BargainFinderMax_ADRQ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://andreypolyak.github.io/sabre-apis-ru/shop-optimization.html" /><meta property="article:section" content="" />



<title>Оптимизация времени поиска | Рекомендации по работе с Sabre APIs</title>
<link rel="manifest" href="/sabre-apis-ru/manifest.json">
<link rel="icon" href="/sabre-apis-ru/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/sabre-apis-ru/book.min.40a2b28f8374ae122c4a4894aa16325ce6669ad94e178071bb43ac6c4a548cd5.css" integrity="sha256-QKKyj4N0rhIsSkiUqhYyXOZmmtlOF4Bxu0OsbEpUjNU=" crossorigin="anonymous">
  <script defer src="/sabre-apis-ru/flexsearch.min.js"></script>
  <script defer src="/sabre-apis-ru/ru.search.min.64569b2fb29778947266efd0fd7c9ef41f1e36a1abd9277f347ca796bb61c127.js" integrity="sha256-ZFabL7KXeJRyZu/Q/Xye9B8eNqGr2Sd/NHynlrthwSc=" crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-80320390-1', 'auto');
	
	ga('send', 'pageview');
}
</script><!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/sabre-apis-ru/"><span>Рекомендации по работе с Sabre APIs</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Поиск" aria-label="Поиск" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  <p class="menu-header"><strong>ВВЕДЕНИЕ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/introduction.html">Начало работы</a></li>
<li><a href="/sabre-apis-ru/configuration.html">Конфигурация Sabre</a></li>
<li><a href="/sabre-apis-ru/tjr-settings.html">Настройки PCC</a></li>
<li><a href="/sabre-apis-ru/authentication.html">Аутентификация</a></li>
<li><a href="/sabre-apis-ru/services.html">Список сервисов</a></li>
<li><a href="/sabre-apis-ru/postman.html">Коллекция Postman</a></li>
</ul>
<p class="menu-header"><strong>ПОИСК ПЕРЕЛЕТОВ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/shop.html">Поиск по заданным датам</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/shop-alternate-dates.html">Поиск по гибким датам</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/shop-by-fare.html">Поиск по кодам тарифов</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/get-availability.html">Поиск по расписаниям</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/shop-optimization.html"class=active>Оптимизация времени поиска</a></li>
</ul>
<p class="menu-header"><strong>БРОНИРОВАНИЯ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/revalidate-itinerary.html">Проверка стоимости и наличия мест</a></li>
<li><a href="/sabre-apis-ru/create-booking.html">Создание бронирований</a>
<ul>
<li><a href="/sabre-apis-ru/create-booking-1step.html">Создание бронирований в 1 шаг</a></li>
<li><a href="/sabre-apis-ru/create-booking-2steps.html">Создание бронирований в 2 шага</a></li>
</ul>
</li>
<li><a href="/sabre-apis-ru/reprice-booking.html">Перерасчет стоимости</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/get-booking.html">Чтение бронирований</a></li>
<li><a href="/sabre-apis-ru/get-archive-booking.html">Чтение бронирований из архива</a></li>
<li><a href="/sabre-apis-ru/edit-booking.html">Редактирование бронирований</a></li>
<li><a href="/sabre-apis-ru/cancel-booking.html">Отмена бронирований</a></li>
<li><a href="/sabre-apis-ru/split-booking.html">Деление бронирований</a></li>
<li><a href="/sabre-apis-ru/get-history-booking.html">История бронирований</a></li>
</ul>
<p class="menu-header"><strong>ДОПОЛНИТЕЛЬНЫЙ КОНТЕНТ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/brands.html">Брендированные тарифы</a></li>
<li><a href="/sabre-apis-ru/ancillaries.html">Дополнительные услуги</a>
<ul>
<li><a href="/sabre-apis-ru/get-ancillaries.html">Получение списка услуг</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/book-ancillaries.html">Бронирование услуг</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/cancel-ancillaries.html">Отмена услуг</a> <!-- raw HTML omitted --></li>
</ul>
</li>
<li><a href="/sabre-apis-ru/air-seats.html">Места в салоне</a>
<ul>
<li><a href="/sabre-apis-ru/get-air-seats.html">Получение карты мест</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/book-air-seats.html">Бронирование мест</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/cancel-air-seats.html">Отмена мест</a> <!-- raw HTML omitted --></li>
</ul>
</li>
</ul>
<p class="menu-header"><strong>БИЛЕТЫ И EMD</strong></p>
<ul>
<li><a href="/sabre-apis-ru/fop.html">Выбор форм оплаты</a></li>
<li><a href="/sabre-apis-ru/issue-ticket.html">Оформление билетов и EMD</a></li>
<li><a href="/sabre-apis-ru/get-ticket.html">Чтение масок билетов и EMD</a></li>
<li><a href="/sabre-apis-ru/void-ticket.html">Войдирование билетов и EMD</a></li>
<li><a href="/sabre-apis-ru/exchanges-refunds.html">Обмены и возвраты билетов</a>
<ul>
<li><a href="/sabre-apis-ru/shop-exchange-ticket.html">Поиск вариантов обмена</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/exchange-ticket.html">Обмен билетов</a></li>
<li><a href="/sabre-apis-ru/involuntary-exchange-ticket.html">Вынужденный обмен билетов</a></li>
<li><a href="/sabre-apis-ru/price-refund-ticket.html">Расчет стоимости возврата билетов</a></li>
<li><a href="/sabre-apis-ru/refund-ticket.html">Возврат билетов</a></li>
</ul>
</li>
<li><a href="/sabre-apis-ru/report-ticket.html">Формирование отчетов</a></li>
</ul>
<p class="menu-header"><strong>ОЧЕРЕДИ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/queues.html">Обработка очередей</a></li>
<li><a href="/sabre-apis-ru/queue-place.html">Помещение бронирований в очереди</a></li>
<li><a href="/sabre-apis-ru/timelimit.html">Тайм-лимиты бронирований</a></li>
</ul>
<p class="menu-header"><strong>ПРАВИЛА ТАРИФОВ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/fare-rules.html">Получение текста правил</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/structure-fare-rules.html">Получение структурированных правил</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/baggage.html">Получение норм провоза багажа</a></li>
</ul>
<p class="menu-header"><strong>ДРУГОЕ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/change-pcc.html">Переход в другие PCC</a></li>
<li><a href="/sabre-apis-ru/currency-rates.html">Получение курсов валют</a></li>
<li><a href="/sabre-apis-ru/commands.html">Отправка терминальных команд</a></li>
</ul>










</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/sabre-apis-ru/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      <h1>Оптимизация времени поиска</h1>
      
  <article class="markdown"><p>Операция поиска перелетов является одной из самых критичных операций с точки зрения времени ожидания ответа. Увеличение времени ожидания поисковых результатов может приводить к серьезному снижению показателя конверсии. Среднее время ожидания ответа на поисковый запрос (One Way или Round Trip) Sabre составляет 2-3 секунды. Если у вашего решения это время выше, то рекомендуется ознакомиться c перечисленными ниже рекомендациями:</p>
<ol>
<li>Обновите версии используемых поисковых сервисов до текущих. Текущие версии поисковых сервисов можно узнать на портале Sabre Dev Studio: <a href="https://developer.sabre.com/docs/soap_apis/air/search/bargain_finder_max">BargainFinderMaxRQ</a>, <a href="https://developer.sabre.com/docs/soap_apis/air/search/bargain_finder_max/bfm_ad">BargainFinderMax_ADRQ</a>.</li>
<li>Используйте токены вместо сессий для аутентификации в Sabre. За счет долгого времени жизни и возможности отправки параллельных запросов через один токен пропадает необходимость создавать токен перед каждым запросом. Рекомендуется создавать один токен раз в неделю или при инвалидации предыдущего и использовать его для всех всех поисковых запросов. Подробнее см. <a href="authentication.html">Аутентификация</a>.</li>
<li>Используйте в качестве адреса для отправки запросов <code>https://webservices.havail.sabre.com</code>.</li>
<li>Используйте компрессию данных на уровне HTTP протокола для всех отправляемых запросов. Для этого необходимо указать в HTTP-заголовках запросов параметр <code>Accept-Encoding</code> со значением <code>gzip, deflate</code>.</li>
<li>Выберите провайдера с быстрым каналом до США, т.к. именно там расположены сервера Sabre.</li>
<li>Используйте <a href="https://files.developer.sabre.com/doc/developmentpatterns/Sabre-APIs-Persistent-Connections.pdf">постоянное HTTP соедиенение</a> (HTTP persistent connection).</li>
<li>Не отправляйте несколько поисковых запросов в Sabre или другие системы для одного запроса пользователя. Если это невозможно, то не ждите выполнения всех запросов, а показывайте пользователю данные по мере их появления.</li>
<li>Запрашивайте меньше <a href="shop.html#%d0%ba%d0%be%d0%bb%d0%b8%d1%87%d0%b5%d1%81%d1%82%d0%b2%d0%be-%d1%80%d0%b5%d0%ba%d0%be%d0%bc%d0%b5%d0%bd%d0%b4%d0%b0%d1%86%d0%b8%d0%b9">рекомендаций</a>, если это некритично для результатов поиска.</li>
<li>Используйте <a href="shop.html#%d0%b2%d0%b8%d0%b4-%d0%be%d1%82%d0%b2%d0%b5%d1%82%d0%b0">группированный вид ответа</a> (Grouped Itinerary Response, GIR) в сервисах <a href="https://developer.sabre.com/docs/soap_apis/air/search/bargain_finder_max">BargainFinderMaxRQ</a> и <a href="https://developer.sabre.com/docs/soap_apis/air/search/bargain_finder_max/bfm_ad">BargainFinderMax_ADRQ</a>.</li>
<li>Не используйте функции, которые увеличивают размер ответа и, как следствие, время ответа. Например, функции для получения:
<ul>
<li><a href="shop.html#%d1%80%d0%b0%d1%81%d1%87%d0%b5%d1%82-%d1%81%d1%82%d0%be%d0%b8%d0%bc%d0%be%d1%81%d1%82%d0%b8-%d0%bf%d0%be-%d0%b2%d1%81%d0%b5%d0%bc-%d0%b4%d0%be%d1%81%d1%82%d1%83%d0%bf%d0%bd%d1%8b%d0%bc-%d0%b1%d1%80%d0%b5%d0%bd%d0%b4%d0%b0%d0%bc">расчетов стоимости по всем доступным брендам</a> — в качестве альтернативы может быть рассмотрен алгоритм выбора бренда в отдельном запросе после выбора перелета в результатах поиска. Подробнее см. <a href="brands.html">Брендированные тарифы</a>.</li>
<li><a href="shop.html#%d0%b4%d0%be%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d1%80%d0%b0%d1%81%d1%87%d0%b5%d1%82%d1%8b-%d1%81%d1%82%d0%be%d0%b8%d0%bc%d0%be%d1%81%d1%82%d0%b8-%d0%bf%d0%be-%d0%b7%d0%b0%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%bc-%d0%ba%d1%80%d0%b8%d1%82%d0%b5%d1%80%d0%b8%d1%8f%d0%bc">дополнительных расчетов стоимости по заданным критериям</a></li>
<li>списка <a href="shop.html#%d0%b4%d0%be%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d1%83%d1%81%d0%bb%d1%83%d0%b3%d0%b8">дополнительных услуг</a> — список дополнительных услуг для перелета может быть получен в отдельном запросе. Подробнее см. <a href="ancillaries.html">Бронирование дополнительных услуг</a>.</li>
<li>условий <a href="shop.html#%d0%be%d0%b1%d0%bc%d0%b5%d0%bd-%d0%b8-%d0%b2%d0%be%d0%b7%d0%b2%d1%80%d0%b0%d1%82-%d0%b1%d0%b8%d0%bb%d0%b5%d1%82%d0%be%d0%b2">обмена и возврата билетов</a> — условия обмена и возврата билетов могут быть получены в отдельном запросе. Подробнее см. <a href="structure-fare-rules.html">Получение структурированных правил тарифов</a>.</li>
<li>рекомендаций с <a href="shop.html#%d0%be%d1%84%d0%be%d1%80%d0%bc%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bd%d0%b0-%d0%bd%d0%b5%d1%81%d0%ba%d0%be%d0%bb%d1%8c%d0%ba%d0%b8%d1%85-%d0%b1%d0%b8%d0%bb%d0%b5%d1%82%d0%b0%d1%85">оформлением на нескольких билетах</a> — если использование этой функции необходимо, то рекомендуется использовать режим <code>SCHS</code>, как наиболее компактный.</li>
<li><a href="shop.html#%d0%b4%d0%be%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d0%bf%d1%80%d1%8f%d0%bc%d1%8b%d0%b5-%d0%bf%d0%b5%d1%80%d0%b5%d0%bb%d0%b5%d1%82%d1%8b">дополнительных прямых перелетов</a></li>
</ul>
</li>
</ol>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  </main>

  

</body>
</html>












