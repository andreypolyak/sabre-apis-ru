<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Оглавление:  Документация  Dev Studio Рассылка Sabre APIs Sabre Central Sabre Central Marketpace Finder Справочник форматов Sabre   Сервисы Sabre  Протокол SOAP Сообщения Компрессия данных   Среды и адреса для отправки запросов Терминальные команды Примеры исходных кодов Обработка ошибок Версионирование     Документация #  Dev Studio #  Sabre Dev Studio — портал для разработчиков Sabre APIs, на котором располагается:
 документация по сервисам общая документация примеры использования список обновлений блог  Для каждого сервиса на Dev Studio есть страница с описанием и примером запроса и ответа, а также страница с ресурсами, на которой представлены:">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Начало работы" />
<meta property="og:description" content="Оглавление:  Документация  Dev Studio Рассылка Sabre APIs Sabre Central Sabre Central Marketpace Finder Справочник форматов Sabre   Сервисы Sabre  Протокол SOAP Сообщения Компрессия данных   Среды и адреса для отправки запросов Терминальные команды Примеры исходных кодов Обработка ошибок Версионирование     Документация #  Dev Studio #  Sabre Dev Studio — портал для разработчиков Sabre APIs, на котором располагается:
 документация по сервисам общая документация примеры использования список обновлений блог  Для каждого сервиса на Dev Studio есть страница с описанием и примером запроса и ответа, а также страница с ресурсами, на которой представлены:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://andreypolyak.github.io/sabre-apis-ru/introduction.html" /><meta property="article:section" content="" />



<title>Начало работы | Рекомендации по работе с Sabre APIs</title>
<link rel="manifest" href="/sabre-apis-ru/manifest.json">
<link rel="icon" href="/sabre-apis-ru/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/sabre-apis-ru/book.min.98bdc3e1803f400dda75a17be86e29816b168e1e226debe5591624e90c7bcd11.css" integrity="sha256-mL3D4YA/QA3adaF76G4pgWsWjh4ibevlWRYk6Qx7zRE=" crossorigin="anonymous">
  <script defer src="/sabre-apis-ru/flexsearch.min.js"></script>
  <script defer src="/sabre-apis-ru/ru.search.min.d02378bace0707ee4cb51e556cc7767b13ec2a6287ad10a25b8bc8963b3f28b4.js" integrity="sha256-0CN4us4HB&#43;5MtR5VbMd2exPsKmKHrRCiW4vIljs/KLQ=" crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-80320390-1', 'auto');
	
	ga('send', 'pageview');
}
</script><!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/sabre-apis-ru/"><span>Рекомендации по работе с Sabre APIs</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Поиск" aria-label="Поиск" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  <p class="menu-header"><strong>ВВЕДЕНИЕ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/introduction.html"class=active>Начало работы</a></li>
<li><a href="/sabre-apis-ru/configuration.html">Конфигурация Sabre</a></li>
<li><a href="/sabre-apis-ru/tjr-settings.html">Настройки PCC</a></li>
<li><a href="/sabre-apis-ru/authentication.html">Аутентификация</a></li>
<li><a href="/sabre-apis-ru/services.html">Список сервисов</a></li>
<li><a href="/sabre-apis-ru/postman.html">Коллекция Postman</a></li>
</ul>
<p class="menu-header"><strong>ПОИСК ПЕРЕЛЕТОВ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/shop.html">Поиск по заданным датам</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/shop-alternate-dates.html">Поиск по гибким датам</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/shop-by-fare.html">Поиск по кодам тарифов</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/get-availability.html">Поиск по расписаниям</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/shop-optimization.html">Оптимизация времени поиска</a></li>
</ul>
<p class="menu-header"><strong>БРОНИРОВАНИЯ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/revalidate-itinerary.html">Проверка стоимости и наличия мест</a></li>
<li><a href="/sabre-apis-ru/create-booking.html">Создание бронирований</a>
<ul>
<li><a href="/sabre-apis-ru/create-booking-1step.html">Создание бронирований в 1 шаг</a></li>
<li><a href="/sabre-apis-ru/create-booking-2steps.html">Создание бронирований в 2 шага</a></li>
</ul>
</li>
<li><a href="/sabre-apis-ru/reprice-booking.html">Перерасчет стоимости</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/get-booking.html">Чтение бронирований</a></li>
<li><a href="/sabre-apis-ru/get-archive-booking.html">Чтение бронирований из архива</a></li>
<li><a href="/sabre-apis-ru/edit-booking.html">Редактирование бронирований</a></li>
<li><a href="/sabre-apis-ru/cancel-booking.html">Отмена бронирований</a></li>
<li><a href="/sabre-apis-ru/split-booking.html">Деление бронирований</a></li>
<li><a href="/sabre-apis-ru/get-history-booking.html">История бронирований</a></li>
</ul>
<p class="menu-header"><strong>ДОПОЛНИТЕЛЬНЫЙ КОНТЕНТ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/brands.html">Брендированные тарифы</a></li>
<li><a href="/sabre-apis-ru/ancillaries.html">Дополнительные услуги</a>
<ul>
<li><a href="/sabre-apis-ru/get-ancillaries.html">Получение списка услуг</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/book-ancillaries.html">Бронирование услуг</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/cancel-ancillaries.html">Отмена услуг</a> <!-- raw HTML omitted --></li>
</ul>
</li>
<li><a href="/sabre-apis-ru/air-seats.html">Места в салоне</a>
<ul>
<li><a href="/sabre-apis-ru/get-air-seats.html">Получение карты мест</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/book-air-seats.html">Бронирование мест</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/cancel-air-seats.html">Отмена мест</a> <!-- raw HTML omitted --></li>
</ul>
</li>
</ul>
<p class="menu-header"><strong>БИЛЕТЫ И EMD</strong></p>
<ul>
<li><a href="/sabre-apis-ru/fop.html">Выбор форм оплаты</a></li>
<li><a href="/sabre-apis-ru/issue-ticket.html">Оформление билетов и EMD</a></li>
<li><a href="/sabre-apis-ru/get-ticket.html">Чтение масок билетов и EMD</a></li>
<li><a href="/sabre-apis-ru/void-ticket.html">Войдирование билетов и EMD</a></li>
<li><a href="/sabre-apis-ru/exchanges-refunds.html">Обмены и возвраты билетов</a>
<ul>
<li><a href="/sabre-apis-ru/shop-exchange-ticket.html">Поиск вариантов обмена</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/exchange-ticket.html">Обмен билетов</a></li>
<li><a href="/sabre-apis-ru/involuntary-exchange-ticket.html">Вынужденный обмен билетов</a></li>
<li><a href="/sabre-apis-ru/price-refund-ticket.html">Расчет стоимости возврата билетов</a></li>
<li><a href="/sabre-apis-ru/refund-ticket.html">Возврат билетов</a></li>
</ul>
</li>
<li><a href="/sabre-apis-ru/report-ticket.html">Формирование отчетов</a></li>
</ul>
<p class="menu-header"><strong>ОЧЕРЕДИ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/queues.html">Обработка очередей</a></li>
<li><a href="/sabre-apis-ru/queue-place.html">Помещение бронирований в очереди</a></li>
<li><a href="/sabre-apis-ru/timelimit.html">Тайм-лимиты бронирований</a></li>
</ul>
<p class="menu-header"><strong>ПРАВИЛА ТАРИФОВ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/fare-rules.html">Получение текста правил</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/structure-fare-rules.html">Получение структурированных правил</a> <!-- raw HTML omitted --></li>
<li><a href="/sabre-apis-ru/baggage.html">Получение норм провоза багажа</a></li>
</ul>
<p class="menu-header"><strong>ДРУГОЕ</strong></p>
<ul>
<li><a href="/sabre-apis-ru/change-pcc.html">Переход в другие PCC</a></li>
<li><a href="/sabre-apis-ru/currency-rates.html">Получение курсов валют</a></li>
<li><a href="/sabre-apis-ru/commands.html">Отправка терминальных команд</a></li>
</ul>










</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/sabre-apis-ru/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      <h1>Начало работы</h1>
      
  <article class="markdown"><hr>
<div>
    <h3>Оглавление:</h3>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#документация">Документация</a>
      <ul>
        <li><a href="#dev-studio">Dev Studio</a></li>
        <li><a href="#рассылка-sabre-apis">Рассылка Sabre APIs</a></li>
        <li><a href="#sabre-central">Sabre Central</a></li>
        <li><a href="#sabre-central-marketpace">Sabre Central Marketpace</a></li>
        <li><a href="#finder">Finder</a></li>
        <li><a href="#справочник-форматов-sabre">Справочник форматов Sabre</a></li>
      </ul>
    </li>
    <li><a href="#сервисы-sabre">Сервисы Sabre</a>
      <ul>
        <li><a href="#протокол-soap">Протокол SOAP</a></li>
        <li><a href="#сообщения">Сообщения</a></li>
        <li><a href="#компрессия-данных">Компрессия данных</a></li>
      </ul>
    </li>
    <li><a href="#среды-и-адреса-для-отправки-запросов">Среды и адреса для отправки запросов</a></li>
    <li><a href="#терминальные-команды">Терминальные команды</a></li>
    <li><a href="#примеры-исходных-кодов">Примеры исходных кодов</a></li>
    <li><a href="#обработка-ошибок">Обработка ошибок</a></li>
    <li><a href="#версионирование">Версионирование</a></li>
  </ul>
</nav>
</div>
<hr>
<h2 id="документация">
  Документация
  <a class="anchor" href="#%d0%b4%d0%be%d0%ba%d1%83%d0%bc%d0%b5%d0%bd%d1%82%d0%b0%d1%86%d0%b8%d1%8f">#</a>
</h2>
<h3 id="dev-studio">
  Dev Studio
  <a class="anchor" href="#dev-studio">#</a>
</h3>
<p><a href="https://developer.sabre.com">Sabre Dev Studio</a> — портал для разработчиков Sabre APIs, на котором располагается:</p>
<ul>
<li><a href="https://developer.sabre.com/product-catalog">документация по сервисам</a></li>
<li><a href="https://developer.sabre.com/guides/travel-agency">общая документация</a></li>
<li><a href="https://developer.sabre.com/solutions">примеры использования</a></li>
<li><a href="https://developer.sabre.com/release_notes">список обновлений</a></li>
<li><a href="https://developer.sabre.com/blog">блог</a></li>
</ul>
<p>Для каждого сервиса на Dev Studio есть страница с описанием и примером запроса и ответа, а также страница с ресурсами, на которой представлены:</p>
<ul>
<li>история изменения версий сервиса (Release Notes)</li>
<li>документация по запросу к сервису (Request Documentation)</li>
<li>документация по ответу от сервиса (Response Documentation)</li>
<li>примеры запросов и ответов (Samples)</li>
<li>ссылка на WSDL-файл (WSDL)</li>
<li>ссылка на XSD-схемы запросов и ответов (Schemas)</li>
</ul>
<h3 id="рассылка-sabre-apis">
  Рассылка Sabre APIs
  <a class="anchor" href="#%d1%80%d0%b0%d1%81%d1%81%d1%8b%d0%bb%d0%ba%d0%b0-sabre-apis">#</a>
</h3>
<p>Почтовая рассылка Sabre APIs содержит информацию о новых сервисах и продуктах, важных изменениях и других новостях. Для подписки на рассылку необходимо отправить адрес электронной почты своему куратору в Sabre.</p>
<h3 id="sabre-central">
  Sabre Central
  <a class="anchor" href="#sabre-central">#</a>
</h3>
<p><a href="https://central.sabre.com">Sabre Central</a> — агентский портал Sabre, на котором доступны новости Sabre, обучающие материалы, документация по продуктам и другая информация. Для входа используется любая <a href="configuration.html#%d1%83%d1%87%d0%b5%d1%82%d0%bd%d1%8b%d0%b5-%d0%b7%d0%b0%d0%bf%d0%b8%d1%81%d0%b8-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9-epr">учетная запись Sabre</a>.</p>
<h3 id="sabre-central-marketpace">
  Sabre Central Marketpace
  <a class="anchor" href="#sabre-central-marketpace">#</a>
</h3>
<p><a href="https://central.sabre.com/marketplace">Sabre Central Marketplace</a> — агентский портал Sabre, на котором доступны описания всех продуктов Sabre. Для входа используется любая <a href="configuration.html#%d1%83%d1%87%d0%b5%d1%82%d0%bd%d1%8b%d0%b5-%d0%b7%d0%b0%d0%bf%d0%b8%d1%81%d0%b8-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9-epr">учетная запись Sabre</a>.</p>
<h3 id="finder">
  Finder
  <a class="anchor" href="#finder">#</a>
</h3>
<p><a href="https://central.sabre.com/s/finder">Finder</a> — справочная система по всем терминальным командам и настройкам Sabre. Для входа используется любая <a href="configuration.html#%d1%83%d1%87%d0%b5%d1%82%d0%bd%d1%8b%d0%b5-%d0%b7%d0%b0%d0%bf%d0%b8%d1%81%d0%b8-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9-epr">учетная запись Sabre</a>.</p>
<h3 id="справочник-форматов-sabre">
  Справочник форматов Sabre
  <a class="anchor" href="#%d1%81%d0%bf%d1%80%d0%b0%d0%b2%d0%be%d1%87%d0%bd%d0%b8%d0%ba-%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%82%d0%be%d0%b2-sabre">#</a>
</h3>
<p>Справочник форматов Sabre доступен для загрузки на сайте <a href="http://airts.ru/upload/Manuals_and_Installers/Manuals/Practice_manuals/Format.pdf">Sabre Helpdesk</a>.</p>
<h2 id="сервисы-sabre">
  Сервисы Sabre
  <a class="anchor" href="#%d1%81%d0%b5%d1%80%d0%b2%d0%b8%d1%81%d1%8b-sabre">#</a>
</h2>
<p>В Sabre существуют два вида сервисов: SOAP и REST. В данном руководстве описано взаимодействие только с SOAP сервисами.</p>
<h3 id="протокол-soap">
  Протокол SOAP
  <a class="anchor" href="#%d0%bf%d1%80%d0%be%d1%82%d0%be%d0%ba%d0%be%d0%bb-soap">#</a>
</h3>
<p>SOAP — протокол обмена сообщениями между несколькими системами, который использует язык разметки XML для сообщений.</p>
<p>Для взаимодействия с SOAP сервисами Sabre необходимо отправить специальным образом структурированное сообщение в формате XML через протокол HTTPS. В ответ сервис Sabre направит сообщение с результатами выполнения запроса. Все исходящие от сервисов Sabre сообщения всегда должны быть инициированы запросом со стороны системы агентства.</p>
<p>Для шифрования данных при отправке запросов к сервисам Sabre и получения ответов от них используется криптографический протокол TLS версии 1.2 и выше.</p>
<h3 id="сообщения">
  Сообщения
  <a class="anchor" href="#%d1%81%d0%be%d0%be%d0%b1%d1%89%d0%b5%d0%bd%d0%b8%d1%8f">#</a>
</h3>
<p>Сообщения, отправляемые с использованием SOAP сервисов, должны быть обернуты в т.н. конверт (Envelope). SOAP конверт должен содержать заголовок сообщения (Header) и его тело (Body).</p>
<details open><summary>SOAP конверт</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#070">&lt;SOAP-ENV:Envelope</span> <span style="color:#00c">xmlns:SOAP-ENV=</span><span style="background-color:#fff0f0">&#34;http://schemas.xmlsoap.org/soap/envelope/&#34;</span><span style="color:#070">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;SOAP-ENV:Header&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#888">&lt;!-- Заголовок сообщения--&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;/SOAP-ENV:Header&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;SOAP-ENV:Body&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#888">&lt;!-- Тело сообщения--&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;/SOAP-ENV:Body&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#070">&lt;/SOAP-ENV:Envelope&gt;</span>
</span></span></code></pre></div>
  </div>
</details>

<p>В заголовке сообщения необходимо добавить обязательные элементы:</p>
<ul>
<li><code>/SOAP-ENV:Envelope/SOAP-ENV:Header/MessageHeader/From/PartyId</code> — идентификатор отправителя. Может быть выбран произвольно отправителем. В ответе на запрос он будет указан в качестве идентификатора получателя</li>
<li><code>/SOAP-ENV:Envelope/SOAP-ENV:Header/MessageHeader/To/PartyId</code> — идентификатор получателя. Может быть выбран произвольно отправителем. В ответе на запрос он будет указан в качестве идентификатора отправителя</li>
<li><code>/SOAP-ENV:Envelope/SOAP-ENV:Header/MessageHeader/ConversationId</code> — идентификатор диалога. Может быть выбран произвольно отправителем. Он будет использован в ответе на запрос в качестве идентификатора диалога</li>
<li><code>/SOAP-ENV:Envelope/SOAP-ENV:Header/MessageHeader/MessageData/MessageId</code> — идентификатор сообщения. Может быть выбран произвольно отправителем. Он будет использован в ответе на запрос в качестве идентификатора сообщения, для которого отправляется ответ</li>
<li><code>/SOAP-ENV:Envelope/SOAP-ENV:Header/MessageHeader/MessageData/Timestamp</code> — время отправки сообщения. Может быть указано произвольно отправителем</li>
<li><code>/SOAP-ENV:Envelope/SOAP-ENV:Header/MessageHeader/Action</code> — название используемого <a href="services.html">сервиса</a></li>
<li><code>/SOAP-ENV:Envelope/SOAP-ENV:Header/Security/BinarySecurityToken</code> — токен сессии или токен доступа (используется для всех запросов кроме запроса на создание сессии или токена доступа, подробнее см. <a href="authentication.html">Аутентификация</a>)</li>
</ul>
<details open><summary>Пример</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#070">&lt;SOAP-ENV:Envelope</span> <span style="color:#00c">xmlns:SOAP-ENV=</span><span style="background-color:#fff0f0">&#34;http://schemas.xmlsoap.org/soap/envelope/&#34;</span><span style="color:#070">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;SOAP-ENV:Header&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#070">&lt;MessageHeader</span> <span style="color:#00c">xmlns=</span><span style="background-color:#fff0f0">&#34;http://www.ebxml.org/namespaces/messageHeader&#34;</span><span style="color:#070">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;From&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#070">&lt;PartyId&gt;</span>Agency<span style="color:#070">&lt;/PartyId&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;/From&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;To&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#070">&lt;PartyId&gt;</span>Sabre<span style="color:#070">&lt;/PartyId&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;/To&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;ConversationId&gt;</span>694ec185-72b5-40c8-bdb8-2d11efb16e0a<span style="color:#070">&lt;/ConversationId&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;MessageData&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#070">&lt;MessageId&gt;</span>21d22b9c-69d1-4f82-a602-f814be4c0ac7<span style="color:#070">&lt;/MessageId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#070">&lt;Timestamp&gt;</span>2018-04-02T19:35:13<span style="color:#070">&lt;/Timestamp&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;/MessageData&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;Action&gt;</span>CreatePassengerNameRecordRQ<span style="color:#070">&lt;/Action&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#070">&lt;/MessageHeader&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#070">&lt;Security</span> <span style="color:#00c">xmlns=</span><span style="background-color:#fff0f0">&#34;http://schemas.xmlsoap.org/ws/2002/12/secext&#34;</span><span style="color:#070">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;BinarySecurityToken&gt;</span>Shared/IDL:IceSess\/SessMgr:1\.0.IDL/Common/!ICESMS\/ACPCRTC!ICESMSLB\/CRT.LB!-3161758208100314490!1658458!0<span style="color:#070">&lt;/BinarySecurityToken&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#070">&lt;/Security&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;/SOAP-ENV:Header&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;SOAP-ENV:Body&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#888">&lt;!-- Тело сообщения --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;/SOAP-ENV:Body&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#070">&lt;/SOAP-ENV:Envelope&gt;</span>
</span></span></code></pre></div>
  </div>
</details>

<h3 id="компрессия-данных">
  Компрессия данных
  <a class="anchor" href="#%d0%ba%d0%be%d0%bc%d0%bf%d1%80%d0%b5%d1%81%d1%81%d0%b8%d1%8f-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d1%85">#</a>
</h3>
<p>Для ускорения получения ответов от сервисов Sabre рекомендуется включить gzip компрессию ответов, указав в HTTP-заголовках запросов параметр <code>Accept-Encoding</code> со значением <code>gzip, deflate</code>:</p>
<details open><summary>Заголовок</summary>
  <div class="markdown-inner">
    <pre tabindex="0"><code>Accept-Encoding: gzip, deflate
</code></pre>
  </div>
</details>

<h2 id="среды-и-адреса-для-отправки-запросов">
  Среды и адреса для отправки запросов
  <a class="anchor" href="#%d1%81%d1%80%d0%b5%d0%b4%d1%8b-%d0%b8-%d0%b0%d0%b4%d1%80%d0%b5%d1%81%d0%b0-%d0%b4%d0%bb%d1%8f-%d0%be%d1%82%d0%bf%d1%80%d0%b0%d0%b2%d0%ba%d0%b8-%d0%b7%d0%b0%d0%bf%d1%80%d0%be%d1%81%d0%be%d0%b2">#</a>
</h2>
<p>В Sabre существует две среды для работы:</p>
<ul>
<li><strong>CERT</strong>. Тестовая среда для разработки и отладки приложений. В этой среде можно создавать тестовые бронирования и оформлять билеты без необходимости их отмены. Среда подключена к тестовым средам перевозчиков, поэтому некоторые действия могут быть недоступны в ней (см. ниже). Адрес для отправки запросов: <code>https://sws-crt.cert.havail.sabre.com</code></li>
<li><strong>RES</strong>. &ldquo;Боевая&rdquo; среда для использования в приложениях. Среда подключена к боевым средам перевозчиков. Адрес для отправки запросов: <code>https://webservices.havail.sabre.com</code></li>
</ul>
<p>Каждой среде соответствует специальная сборка терминала Sabre Red: <a href="http://updatesite.my.sabre.com/updatesite/installers/jre/srw.html">PROD</a>, <a href="http://updatesite.my.cert.sabre.com/updatesite/installers/jre/srw.html">CERT</a>.</p>
<p>Среды независимы друг от друга, это означает, что в случае выполнения каких-либо изменений в одной среде (создание бронирования, изменение настроек, создание или изменение учетных записей и т.д.), эти изменения не попадут в другую среду. Однако, два раза в год тестовая среда очищается и на ней разворачивается выполненный ранее слепок из боевой среды. Агентства заранее уведомляются об этом <a href="introduction.html#%d1%80%d0%b0%d1%81%d1%81%d1%8b%d0%bb%d0%ba%d0%b0-sabre-apis">рассылкой</a>.</p>
<p>Создаваемый слепок содержит в себе <a href="configuration.html#%d1%83%d1%87%d0%b5%d1%82%d0%bd%d1%8b%d0%b5-%d0%b7%d0%b0%d0%bf%d0%b8%d1%81%d0%b8-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9-epr">учетные записи</a> и <a href="tjr-settings.html">настройки PCC</a>, но не содержит бронирования или билеты. Поэтому не рекомендуется изменять или создавать учетные записи или настройки в тестовой среде в момент между созданием слепка среды и его разворачиванием в тестовой среде.</p>
<p>При работе в среде <strong>CERT</strong> могут возникать проблемы при получении информации о наличии мест, подтверждении бронирования и оформлении билетов для некоторых перевозчиков. Для того чтобы избежать этих проблем рекомендуется проводить тестирование на следующих перевозчиках:</p>
<ul>
<li>EY — Etihad</li>
<li>B2 — Belavia</li>
<li>DV — SCAT Airlines</li>
<li>KC — Air Astana</li>
<li>AA — American Airlines</li>
</ul>
<p>Также рекомендуется создавать бронирования с более ранними датами вылета (не более недели от текущей даты).</p>
<h2 id="терминальные-команды">
  Терминальные команды
  <a class="anchor" href="#%d1%82%d0%b5%d1%80%d0%bc%d0%b8%d0%bd%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d0%ba%d0%be%d0%bc%d0%b0%d0%bd%d0%b4%d1%8b">#</a>
</h2>
<p>Многие сервисы Sabre имеют аналогичные команды, доступные в терминале Sabre (в синем экране). Соответствующую команду можно увидеть в документации к некоторым сервисам, а также в ответе на запрос, если в корневом элементе последнего указать значение <code>true</code> у атрибута <code>ReturnHostCommand</code>. Такая возможность предусмотрена для тех сервисов, название которых содержит буквы LLS, например сервис <a href="https://developer.sabre.com/docs/read/soap_apis/management/itinerary/Ignore_Transaction">IgnoreTransactionLLSRQ</a> (игнорирование бронирования).</p>
<details open><summary>Пример запроса</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#070">&lt;IgnoreTransactionRQ</span> <span style="color:#00c">ReturnHostCommand=</span><span style="background-color:#fff0f0">&#34;true&#34;</span> <span style="color:#00c">Version=</span><span style="background-color:#fff0f0">&#34;2.0.0&#34;</span> <span style="color:#00c">xmlns=</span><span style="background-color:#fff0f0">&#34;http://webservices.sabre.com/sabreXML/2011/10&#34;</span><span style="color:#070">/&gt;</span>
</span></span></code></pre></div>
  </div>
</details>

<p>В ответе на данный запрос будет указана аналогичная команда для терминала Sabre — <code>I</code>.</p>
<details open><summary>Пример ответа</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#070">&lt;IgnoreTransactionRS</span> <span style="color:#00c">Version=</span><span style="background-color:#fff0f0">&#34;2.0.0&#34;</span> <span style="color:#00c">xmlns=</span><span style="background-color:#fff0f0">&#34;http://webservices.sabre.com/sabreXML/2011/10&#34;</span> <span style="color:#00c">xmlns:stl=</span><span style="background-color:#fff0f0">&#34;http://services.sabre.com/STL/v01&#34;</span> <span style="color:#00c">xmlns:xs=</span><span style="background-color:#fff0f0">&#34;http://www.w3.org/2001/XMLSchema&#34;</span> <span style="color:#00c">xmlns:xsi=</span><span style="background-color:#fff0f0">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span><span style="color:#070">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;stl:ApplicationResults</span> <span style="color:#00c">status=</span><span style="background-color:#fff0f0">&#34;Complete&#34;</span><span style="color:#070">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#070">&lt;stl:Success</span> <span style="color:#00c">timeStamp=</span><span style="background-color:#fff0f0">&#34;2018-04-03T12:05:22-05:00&#34;</span><span style="color:#070">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;stl:SystemSpecificResults&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#070">&lt;stl:HostCommand</span> <span style="color:#00c">LNIATA=</span><span style="background-color:#fff0f0">&#34;10EB49&#34;</span><span style="color:#070">&gt;</span>I<span style="color:#070">&lt;/stl:HostCommand&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#070">&lt;/stl:SystemSpecificResults&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#070">&lt;/stl:Success&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#070">&lt;/stl:ApplicationResults&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#070">&lt;/IgnoreTransactionRS&gt;</span>
</span></span></code></pre></div>
  </div>
</details>

<h2 id="примеры-исходных-кодов">
  Примеры исходных кодов
  <a class="anchor" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80%d1%8b-%d0%b8%d1%81%d1%85%d0%be%d0%b4%d0%bd%d1%8b%d1%85-%d0%ba%d0%be%d0%b4%d0%be%d0%b2">#</a>
</h2>
<p>См. раздел <a href="https://developer.sabre.com/solutions/sample-code">Solutions</a> на портале Sabre Dev Studio.</p>
<h2 id="обработка-ошибок">
  Обработка ошибок
  <a class="anchor" href="#%d0%be%d0%b1%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%ba%d0%b0-%d0%be%d1%88%d0%b8%d0%b1%d0%be%d0%ba">#</a>
</h2>
<p>См. раздел <a href="https://developer.sabre.com/docs/travel-agency/guides/reference/errors">Errors</a> на портале Sabre Dev Studio.</p>
<h2 id="версионирование">
  Версионирование
  <a class="anchor" href="#%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%be%d0%bd%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5">#</a>
</h2>
<p>Sabre APIs поддерживают <a href="http://semver.org/lang/ru">семантическое версионирование</a>. Это означает, что номер версии каждого сервиса состоит из 3 чисел, разделенных точками, например <code>3.2.0</code>, где:</p>
<ul>
<li>первое число — мажорная версия сервиса. Меняется при несовместимых изменения сервиса с изменением схемы запроса или ответа</li>
<li>второе число — минорная версия сервиса. Меняется при добавлении нового функционала с изменением схемы запроса или ответа без нарушения обратной совместимости</li>
<li>третье число — патч версия сервиса. Меняется при добавлении незначительных изменений, не влияющих на схему запроса или ответа</li>
</ul>
<p>Sabre официально поддерживает только 5 последних версий каждого сервиса. Более ранние версии также могут работать, однако официально не поддерживаются.</p>
<blockquote class="book-hint warning">
  Обратите внимание на то, что ранние версии сервисов могут быть отключены. Список версий сервисов, планируемых к отключению, представлен на портале <a href="https://developer.sabre.com/guides/travel-agency/developer-guides/api-retirement-schedule">Sabre Dev Studio</a>.
</blockquote>

</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  </main>

  
    <script src="/sabre-apis-ru/assets/js/clipboard.js"></script>


</body>
</html>












