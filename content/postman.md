---
title: Коллекция Postman
---

{{< toc >}}

## Введение

[Postman](https://www.getpostman.com) — популярный бесплатный инструмент для тестирования API. Для удобства работы с Sabre APIs все примеры из данных рекомендаций доступны в виде коллекции Postman.

## Загрузка

Для начала работы необходимо загрузить:
- [коллекция Postman с примерами из данных рекомендаций](/sabre-apis-ru/assets/postman/sabre_apis_recommendations.postman_collection.json)
- [среда для отправки запросов в тестовой (CERT) среде](/sabre-apis-ru/assets/postman/CERT.postman_environment.json)
- [среда для отправки запросов в боевой (PROD) среде](/sabre-apis-ru/assets/postman/PROD.postman_environment.json)

## Установка

Для начала работы необходимо загрузить все файлы и импортировать их в Postman, воспользовавшись кнопкой Import в левом верхнем углу программы. После этого необходимо выбрать каждую из сред в выпадающем меню в правом верхнем углу и установить для них значения следующих переменных:
- ```username``` — [логин для учетной записи](configuration.html#учетные-записи-пользователей-epr). Используется для создания [сессий](authentication.html#сессии) и [токенов доступа](authentication.html#токены-доступа). *Например, ```123456```*
- ```password``` — [пароль для учетной записи](configuration.html#учетные-записи-пользователей-epr). Используется для создания [сессий](authentication.html#сессии) и [токенов доступа](authentication.html#токены-доступа). *Например, ```PASSWORD```*
- ```pcc``` — [iPCC](configuration.html#pcc), в котором будут создаваться [сессии](authentication.html#сессии) и [токены доступа](authentication.html#токены-доступа), а также производиться поиск. *Например, ```ABCD```*
- ```pcc_tkt``` — [PCC](configuration.html#pcc), в котором будут создаваться бронирования и оформляться билеты. Он может совпадать с iPCC. *Например, ```EFGH```*
- ```country_code``` — [код стока](issue-ticket.html#выбор-стока), который будет использован для оформления билетов. *Например, ```RU```*
- ```ptrta``` — [терминальный адрес принтера](configuration.html#терминальные-адреса-ta-lniata), который будет использован для оформления билетов. *Например, ```123ABC```*

## Использование

После установки значений переменных в средах можно приступать к отправке запросов. Структура директорий в коллекции Postman повторяет структуру разделов данных рекомендациях. Начать работу с коллекцией можно с создания сессии (Рекомендации по работе с Sabre APIs → Введение → Аутентификация → Создание сессии (SessionCreateRQ)) или токена доступа (Рекомендации по работе с Sabre APIs → Введение → Аутентификация → Создание токена доступа (TokenCreateRQ)).

Для большинства операций с бронированиями и билетами можно создавать бронирования и оформлять из соответствующих разделов. Для процесса возврата билетов предусмотрены специальные запросы для создания бронирований для примеров. Директории с этими запросами и имена запросов начинаются с символа нижнего подчеркивания (```_```).

## Скрипты и специальные переменные

Для удобства работы в Postman в коллекции используются скрипты, которые автоматически устанавливают значения специальных переменных:
- переменная ```timestamp``` — текущее время. Автоматически устанавливается перед отправкой каждого запроса. Используется в заголовках сообщений
- переменная ```token``` — идентификатор сессии или токена доступа. Устанавливается после выполнения запроса создания [сессии](authentication.html#сессии) или [токена доступа](authentication.html#токены-доступа). Используется в заголовках всех сообщений 
- переменная ```pnr``` — код бронирования (PNR Record Locator). Устанавливается после выполнения запросов к сервисам [CreatePassengerNameRecordRQ](https://developer.sabre.com/docs/read/soap_apis/air/book/create_passenger_name_record), [PassengerDetailsRQ](https://developer.sabre.com/docs/soap_apis/management/itinerary/Passenger_Details) и [EnhancedEndTransactionRQ](https://developer.sabre.com/docs/soap_apis/utility/reservation/enhanced_end_transaction). Используется в запросах к сервисам, в которых необходимо указывать код бронирования
- переменная ```tkt``` — номер билета. Устанавливается после выполнения запроса к сервису [AirTicketRQ](https://developer.sabre.com/docs/soap_apis/air/fulfill/enhanced_air_ticket). В случае оформления нескольких билетов одновременно создаются дополнительные переменные ```tkt2```, ```tkt3``` и т.д. Используется в запросах к сервисам, в которых необходимо указывать номер билета.
- переменная ```tkt_date``` — дата оформления билета. Устанавливается после выполнения запроса к сервису [AirTicketRQ](https://developer.sabre.com/docs/soap_apis/air/fulfill/enhanced_air_ticket). В случае оформления нескольких билетов одновременно создаются дополнительные переменные ```tkt2_date```, ```tkt3_date``` и т.д. Используется в запросах к сервисам, в которых необходимо указывать дату оформления билета.
